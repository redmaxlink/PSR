<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>NEW</title>
    <style>

      ::placeholder{
        color: red;
        opacity: 0.5;
      }

      .b {border: 1px solid red;}

      input { border: 1px solid lightgrey; border-radius: 20px;}

      table {
        width: 100%;
        border: 1px solid black;
        border-collapse: collapse;
      }

      th, td {
        border: 1px solid black;
        border-collapse: collapse;
        text-align: center;
      }

    </style>
  </head>
  <body>

    <div class="" id="basic" style="height:36vh;">

      <div class="" style="font-size:40px; width:100vw; margin-top: 1%; text-align: center;">
        <input type="text" id="number_in" required style="font-size:40px; text-transform:uppercase; text-align: center;" placeholder="FLIGHT NUMBER">
        <select id="registeration_in" style="font-size:40px;">
            <option value=" "> </option>
            <option value="VT-ALF">VT-ALF</option>
            <option value="VT-ALG">VT-ALG</option>
            <option value="VT-ALH">VT-ALH</option>
            <option value="VT-ALJ">VT-ALJ</option>
            <option value="VT-ALK">VT-ALK</option>
            <option value="VT-ALL">VT-ALL</option>
            <option value="VT-ALM">VT-ALM</option>
            <option value="VT-ALN">VT-ALN</option>
            <option value="VT-ALO">VT-ALO</option>
            <option value="VT-ALP">VT-ALP</option>
            <option value="VT-ALQ">VT-ALQ</option>
            <option value="VT-ALR">VT-ALR</option>
            <option value="VT-ALS">VT-ALS</option>
            <option value="VT-ALT">VT-ALT</option>
            <option value="VT-ALU">VT-ALU</option>
            <option value="VT-ALX">VT-ALX</option>
        </select>
      </div>

      <div class="" style="position:relative; margin-top: 3%;">
        <div class="" style="position: absolute; left:0; width:40vw; height:50px; text-align:center;">
          <input type="text" id="departure_in" required style="font-size:40px; text-transform:uppercase; text-align: center; display: block;">
          <input type="datetime-local" id="departureSked_in"  value="2022-09-08T16:15:00.000" style="font-size:20px; color: grey; text-align: center; display: block;">
        </div>
        <div class="" style="position: absolute; right:0; width:40vw; height:50px;">
          <input type="text" id="destination_in" required style="font-size:40px; text-transform:uppercase; text-align: center; display: block;">
          <input type="datetime-local" id="destinationSked_in"  value="2022-09-09T06:45:00.000" style="font-size:20px; color: grey; text-align: center; display: block;">
        </div>
      </div>

      <div class="" style="font-size:40px; width:100vw; margin-top: 4%; text-align: center;">

        </br></br>

        <div class="">
          <input type="time" id="crt_in" required style="font-size: 40px; text-transform:uppercase; text-align: center;">
        </div>

        <div class="">
          <input type="text" id="fuelQt_in" required style="font-size: 24px; text-transform:uppercase; text-align: center;">
          <select id="fuelUt_in">
            <option value="LT">LT</option>
            <option value="USG">USG</option>
          </select>
          <input type="text" id="fuelSp_in" required style="font-size: 24px; text-transform:uppercase; text-align: center;">
          <input type="text" id="fuelTp_in" required style="font-size: 24px; text-transform:uppercase; text-align: center;">
        </div>

      </div>


    </div>


    <div class="" style="width:100%; height:50vh;">


      <div class="" style="position:relative;">
        <div class="" style="position: absolute; left:0; width:40vw; height:50px; text-align:center;" onclick="display()">
          <h1>CREW</h1>
        </div>
        <div class="" style="position: absolute; right:0; width:40vw; height:50px; text-align:center;" onclick="display()">
          <h1>TIMING</h1>
        </div>
      </div>


      </br></br></br></br>


      <div class="" id="crew" style="width:100%; text-align:center; display: block;">

        </br></br></br></br>

        <input type="text" id="1name_in" required style="text-transform:uppercase; text-align: left;">
        <input type="text" id="1staff_in" required style="text-transform:uppercase; text-align: center;">
        <input type="text" id="1sap_in" required style="text-transform:uppercase; text-align: center;">
        <input type="text" id="1ipltm_in" required style="text-transform:uppercase; text-align: center;">
        <select id="1status_in">
          <option value=" "> </option>
          <option value="PIC RC">PIC RC</option>
          <option value="PC PF">RC PF</option>
          <option value="RC PM">RC PM</option>
          <option value="SLF">SLF</option>
          <option value="SUT">SUT</option>
          <option value="SNY">SNY</option>
        </select>

        </br></br>

        <input type="text" id="2name_in" required style="text-transform:uppercase; text-align: left;">
        <input type="text" id="2staff_in" required style="text-transform:uppercase; text-align: center;">
        <input type="text" id="2sap_in" required style="text-transform:uppercase; text-align: center;">
        <input type="text" id="2ipltm_in" required style="text-transform:uppercase; text-align: center;">
        <select id="2status_in">
          <option value=" "> </option>
          <option value="PIC RC">PIC RC</option>
          <option value="PC PF">RC PF</option>
          <option value="RC PM">RC PM</option>
          <option value="SLF">SLF</option>
          <option value="SUT">SUT</option>
          <option value="SNY">SNY</option>
        </select>

        </br></br>

        <input type="text" id="3name_in" required style="text-transform:uppercase; text-align: left;">
        <input type="text" id="3staff_in" required style="text-transform:uppercase; text-align: center;">
        <input type="text" id="3sap_in" required style="text-transform:uppercase; text-align: center;">
        <input type="text" id="3ipltm_in" required style="text-transform:uppercase; text-align: center;">
        <select id="3status_in">
          <option value=" "> </option>
          <option value="PIC RC">PIC RC</option>
          <option value="PC PF">RC PF</option>
          <option value="RC PM">RC PM</option>
          <option value="SLF">SLF</option>
          <option value="SUT">SUT</option>
          <option value="SNY">SNY</option>
        </select>

        </br></br>

        <input type="text" id="4name_in" required style="text-transform:uppercase; text-align: left;">
        <input type="text" id="4staff_in" required style="text-transform:uppercase; text-align: center;">
        <input type="text" id="4sap_in" required style="text-transform:uppercase; text-align: center;">
        <input type="text" id="4ipltm_in" required style="text-transform:uppercase; text-align: center;">
        <select id="4status_in">
          <option value=" "> </option>
          <option value="PIC RC">PIC RC</option>
          <option value="PC PF">RC PF</option>
          <option value="RC PM">RC PM</option>
          <option value="SLF">SLF</option>
          <option value="SUT">SUT</option>
          <option value="SNY">SNY</option>
        </select>


        <div class="" style="position: absolute; left: 0; width: 40%; height: 20%;">

          </br></br></br></br>

          <div class="ACTIVE" id="departureSeatLeft_in" style="width:30px; height:30px; background-color:red; position: absolute; left: 0;" onclick="seat('departureSeatLeft_in')"></div>
          <div class="" id="departureSeatRight_in" style="width:30px; height:30px; background-color:lightgrey; position: absolute; right: 0;" onclick="seat('departureSeatRight_in')"></div>

          <input type="text" id="departureLeft_in" required style="text-align: center;">
          <input type="text" id="departureRight_in" required style="text-align: center;">

        </div>

        <div class="" style="position: absolute; right: 0; width: 40%; height: 20%;">

          </br></br></br></br>

          <div class="ACTIVE" id="destinationSeatLeft_in" style="width:30px; height:30px; background-color:red; position: absolute; left: 0;" onclick="seat('destinationSeatLeft_in')"></div>
          <div class="" id="destinationSeatRight_in" style="width:30px; height:30px; background-color:lightgrey; position: absolute; right: 0;" onclick="seat('destinationSeatRight_in')"></div>

          <input type="text" id="destinationLeft_in" required style="text-align: center;">
          <input type="text" id="destinationRight_in" required style="text-align: center;">

        </div>

      </div>


      <div class="" id="time" style="width:100%; text-align:center; display: none;">

        <div class="" style="position: absolute; left: 0; width:18%; height: 400px;">

          <div class="" style="text-align: center; margin-top: 320px;">
            <input type="datetime-local" id="departureActual_in" style="font-size:20px;" value="2022-09-08T16:17:00.000" oninput="init()">
            </br></br></br>
            <div class="" style="display:none;">
              <select id="departureDelay_in" style="font-size:20px;">
                  <option value="STN">STN</option>
                  <option value="ATC" selected="selected">ATC</option>
                  <option value="WX WIND">WX WIND</option>
              </select>
              <output></output>
            </div>
          </div>

        </div>

        <div class="" style="position: absolute; right: 0; width:18%; height: 400px;">

          <div class="" style="text-align: center; margin-top: 320px;">
            <input type="datetime-local" id="destinationActual_in" style="font-size:20px;" value="2022-09-09T05:48:00.000" oninput="init()">
            </br></br></br>
            <div class="" style="display:none;">
              <select id="destinationDelay_in" style="font-size:20px;">
                  <option value="WX WIND" selected="selected">WX WIND</option>
                  <option value="ATC">ATC</option>
                  <option value="STN">STN</option>
              </select>
              <output></output>
            </div>
          </div>
        </div>


        <div class="NIGHT" id="light" style="margin-left: -50px; position:absolute;" onclick="lightchange()">
          <img class="" style="object-fit:fill; height:100px;" src="moon.png">
          <output class="" style="display:block; text-align: center;"></output>
        </div>

        </br></br></br></br>
        </br></br></br></br>

        <div class="" id="line1" style="position:absolute;">
          <output class="" style="display: block; margin-left:-50px; text-align: center;"></output>
          <svg class = "" width="4" height="187">
            <rect class = "line" width="8" height="187" style="fill:grey;" />
          </svg>
        </div>

        <div class="" id="line2" style="position:absolute;">
          <output class="" style="display: block; text-align: center;"></output>
          <svg class = "" width="4" height="187">
            <rect class = "line" width="8" height="187" style="fill:grey;" />
          </svg>
        </div>

        </br></br></br></br>
        </br></br></br></br>

        <div class="" id="base" style="position: absolute; left: 20%; width: 60%; height: 50px; border-radius: 25px; border: 2px solid grey;"></div>

        </br></br></br></br>

        <div class="" style="text-align: center;">
          <input class="" id="instrumentflying" type="range" value="30" min="0" max="360" step="10" style="width: 60%;" oninput="this.nextElementSibling.value = this.value">
          <output>30</output>
        </div>

      </div>


    </div>


    <div class="" style="text-align: center;">
      <input type="button" value="AUTO PSR" onclick="psr_generate()" style="font-size:60px;">
    </div>


    <div id = "table" style="font-family: Arial; position: relative; display: none;">

      <img class="" style="position:absolute; height:36px; margin-top: -8px;object-fit:fill;" src="logo.png">

      <table id="0table" style="height:8mm; border: none;">
        <tr>
          <th style="width:18%; border: none;"></th>
          <th style="width:18%; border: none;"></th>
          <th style="border: none;">PILOTS REPORT</th>
          <td id="number_out" style="width:12%; border: none;"></td>
          <td id="registeration_out" style="width:12%; border: none;"></td>
          <td id="type_out" style="width:12%; border: none;"></td>
        </tr>
      </table>

      <table id="1table" style="height:10mm;">
        <tr style="height:6mm; font-size: 11px;">
          <td style="width: 24.6%; font-size: 14px;" rowspan="2">OPERATING CREW</td>
          <td style="width: 9.2%;">STAFF NO.</br>(Suffix AT / IT)</td>
          <td style="width: 4.4%;" rowspan="2">TRG</br>STS*</td>
          <td style="width: 6.4%;" rowspan="2">CRT</br>(UTC)</br>HH:MM</td>
          <td style="width: 6.4%;" colspan="2">SECTOR(S) OPTG</br>(4 letter ICAO)</td>
          <td style="width: 6.8%; font-size: 16px;" colspan="6">MULTIPLE CREW LOG - ON CONTROLS TIMING</td>
        </tr>
        <tr style="height:4mm; font-size: 10px;">
          <td style="width: 9.2%;">SAP NO.</td>


          <td style="width: 6.4%;">FROM</td>
          <td style="width: 6.4%;">TO</td>
          <td style="width: 6.8%;">FROM</td>
          <td style="width: 6.8%;">TO</td>
          <td style="width: 6.8%;">FROM</td>
          <td style="width: 6.8%;">TO</td>
          <td style="width: 6.8%;">FROM</td>
          <td style="width: 6.8%;">TO</td>
        </tr>
      </table>

      <table id="2table" style="height:85mm; font-size: 12px;">

        <tr style="height:5.5mm; font-size: 12px;">
          <td style="width: 4.6%;" rowspan="2">1.</br>CDR</td>
          <td style="width: 20%;" rowspan="2"></td>
          <td style="width: 9.2%; border-bottom: none;" rowspan="2">27627AT</td>
          <td style="width: 4.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;"></td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
        </tr>
        <tr style="height:5.5mm; font-size: 12px;">
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;"></td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
        </tr>
        <tr style="height:5.5mm; font-size: 12px;">
          <td style="width: 4.6%;">IPLTM</td>
          <td style="width: 20%;"></td>
          <td style="width: 9.2%; border-top: none;">80008646</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;"></td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
        </tr>

        <tr style="height:5.5mm; font-size: 12px;">
          <td style="width: 4.6%;" rowspan="2">2.</br>CDR</td>
          <td style="width: 20%;" rowspan="2"></td>
          <td style="width: 9.2%; border-bottom: none;" rowspan="2">27627AT</td>
          <td style="width: 4.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;"></td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
        </tr>
        <tr style="height:5.5mm; font-size: 12px;">
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;"></td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
        </tr>
        <tr style="height:5.5mm; font-size: 12px;">
          <td style="width: 4.6%;">IPLTM</td>
          <td style="width: 20%;"></td>
          <td style="width: 9.2%; border-top: none;">80008646</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;"></td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
        </tr>

        <tr style="height:5.5mm; font-size: 12px;">
          <td style="width: 4.6%;" rowspan="2">3.</br>CDR</td>
          <td style="width: 20%;" rowspan="2"></td>
          <td style="width: 9.2%; border-bottom: none;" rowspan="2">27627AT</td>
          <td style="width: 4.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;"></td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
        </tr>
        <tr style="height:5.5mm; font-size: 12px;">
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;"></td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
        </tr>
        <tr style="height:5.5mm; font-size: 12px;">
          <td style="width: 4.6%;">IPLTM</td>
          <td style="width: 20%;"></td>
          <td style="width: 9.2%; border-top: none;">80008646</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;"></td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
        </tr>

        <tr style="height:5.5mm; font-size: 12px;">
          <td style="width: 4.6%;" rowspan="2">4.</br>CDR</td>
          <td style="width: 20%;" rowspan="2"></td>
          <td style="width: 9.2%; border-bottom: none;" rowspan="2">27627AT</td>
          <td style="width: 4.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;"></td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
        </tr>
        <tr style="height:5.5mm; font-size: 12px;">
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;"></td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
        </tr>
        <tr style="height:5.5mm; font-size: 12px;">
          <td style="width: 4.6%;">IPLTM</td>
          <td style="width: 20%;"></td>
          <td style="width: 9.2%; border-top: none;">80008646</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;"></td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
        </tr>

        <tr style="height:5.5mm; font-size: 12px;">
          <td style="width: 4.6%;" rowspan="2">5.</br>CDR</td>
          <td style="width: 20%;" rowspan="2"></td>
          <td style="width: 9.2%; border-bottom: none;" rowspan="2">27627AT</td>
          <td style="width: 4.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.4%;" rowspan="3">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;"></td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
        </tr>
        <tr style="height:5.5mm; font-size: 12px;">
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;"></td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
        </tr>
        <tr style="height:5.5mm; font-size: 12px;">
          <td style="width: 4.6%;">IPLTM</td>
          <td style="width: 20%;"></td>
          <td style="width: 9.2%; border-top: none;">80008646</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;"></td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
          <td style="width: 6.8%;">HH:MM</td>
        </tr>

      </table>

      <table id="3table" style="margin:2px 0 0 0; height:12mm;">
        <tr style="height:5mm; font-size: 12px;">
          <td style="width: 9.4%; border-bottom: none;" rowspan="2">DATE</br>(UTC)</td>
          <td style="width: 7.2%; border-bottom: none;" rowspan="2">STATION</br>4 letter</td>
          <td style="width: 6%; border-bottom: none;" rowspan="2">SKED</br>(UTC)</td>
          <td style="width: 6%; border-bottom: none;" rowspan="2">ACTUAL</br>(UTC)</td>
          <td style="width: 6%; border-bottom: none;" rowspan="2">TOTAL</br>DELAY</td>
          <td style="width: 6%; border-bottom: none;" rowspan="2">CONSQ</td>
          <td style="width: 6%; border-bottom: none;" rowspan="2">STN</td>
          <td style="width: 6%; border-bottom: none;" rowspan="2">ATC</td>
          <td style="width: 6%; border-bottom: none;" rowspan="2">WX</br>WIND</td>
          <td style="width: 5.6%; border-bottom: none;" rowspan="3">PF</td>
          <td style="width: 6.6%; border-bottom: none;" rowspan="2">TOTAL</br>FLT.TIME</td>
          <td style="width: 6.6%; border-bottom: none;" rowspan="2">NIGHT</br>FLYING</td>
          <td style="width: 6.6%; border-bottom: none;" rowspan="2">INST</br>FLYING</td>
          <td style="width: 8.4%; border-bottom: none;" colspan="3">FUEL UPLIFT</td>
        </tr>
        <tr style="height:4mm; font-size: 10px;">
          <td style="width: 8.4%; border: none;"></td>
          <td style="width: 3.6%; border: none;"></td>
          <td style="width: 4%;">SPGR</td>
        </tr>
        <tr style="height:3mm; font-size: 10px;">
          <td style="width: 9.4%; border-top: none;">DD-MM-YYYY</td>
          <td style="width: 7.2%">ICAO CODE</td>
          <td style="width: 6%">HH:MM</td>
          <td style="width: 6%">HH:MM</td>
          <td style="width: 6%">HH:MM</td>
          <td style="width: 6%">HH:MM</td>
          <td style="width: 6%">HH:MM</td>
          <td style="width: 6%">HH:MM</td>
          <td style="width: 6%">HH:MM</td>
          <td style="width: 6.6%">HH:MM</td>
          <td style="width: 6.6%">HH:MM</td>
          <td style="width: 6.6%">HH:MM</td>
          <td style="width: 8.4%">QUANTITY</td>
          <td style="width: 3.6%">UNIT</td>
          <td style="width: 4%">TEMP</td>
        </tr>
      </table>

      <table id="4table" style="height:42mm; font-size: 18px;">
        <tr style="height:7mm;">
          <td id="departureDate_out" style="width: 9.4%;"></td>
          <td id="departure_out" style="width: 7.2%; border-bottom: none;"></td>
          <td id="departureSked_out" style="width: 6%;"></td>
          <td id="departureActual_out" style="width: 6%;"></td>
          <td id="departureDelay_out" style="width: 6%;"></td>
          <td id="depCONSQ_out" style="width: 6%;"></td>
          <td id="depSTN_out" style="width: 6%;"></td>
          <td id="depATC_out" style="width: 6%;"></td>
          <td id="depWX WIND_out" style="width: 6%;"></td>
          <td id="departurePf_out" style="width: 5.6%;"></td>
          <td id="total_out" style="width: 6.6%;" rowspan="2"></td>
          <td id="night_out" style="width: 6.6%;" rowspan="2"></td>
          <td id="instrumentflying_out" style="width: 6.6%;" rowspan="2"></td>
          <td id="fuelQt_out" style="width: 8.4%;"></td>
          <td id="fuelUt_out" style="width: 3.6%;"></td>
          <td id="fuelSp_out" style="width: 4%;"></td>
        </tr>
        <tr style="height:7mm;">
          <td id="destinationDate_out" style="width: 9.4%;"></td>
          <td id="destination_out" style="width: 7.2%; border-top: none;"></td>
          <td id="destinationSked_out" style="width: 6%;"></td>
          <td id="destinationActual_out"style="width: 6%;"></td>
          <td id="destinationDelay_out" style="width: 6%;"></td>
          <td id="desCONSQ_out" style="width: 6%;"></td>
          <td id="desSTN_out" style="width: 6%;"></td>
          <td id="desATC_out" style="width: 6%;"></td>
          <td id="desWX WIND_out" style="width: 6%;"></td>
          <td id="destinationPf_out" style="width: 5.6%;"></td>



          <td style="width: 8.4%;"></td>
          <td style="width: 3.6%;"></td>
          <td id="fuelTp_out" style="width: 4%;"></td>
        </tr>
        <tr style="height:7mm;">
          <td style="width: 9.4%;"></td>
          <td style="width: 7.2%; border-bottom: none;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 5.6%;"></td>
          <td style="width: 6.6%;"></td>
          <td style="width: 6.6%;"></td>
          <td style="width: 6.6%;"></td>
          <td style="width: 8.4%;"></td>
          <td style="width: 3.6%;"></td>
          <td style="width: 4%;"></td>
        </tr>
        <tr style="height:7mm;">
          <td style="width: 9.4%;"></td>
          <td style="width: 7.2%; border-top: none;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 5.6%;"></td>
          <td style="width: 6.6%;"></td>
          <td style="width: 6.6%;"></td>
          <td style="width: 6.6%;"></td>
          <td style="width: 8.4%;"></td>
          <td style="width: 3.6%;"></td>
          <td style="width: 4%;"></td>
        </tr>
        <tr style="height:7mm;">
          <td style="width: 9.4%;"></td>
          <td style="width: 7.2%; border-bottom: none;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 5.6%;"></td>
          <td style="width: 6.6%;"></td>
          <td style="width: 6.6%;"></td>
          <td style="width: 6.6%;"></td>
          <td style="width: 8.4%;"></td>
          <td style="width: 3.6%;"></td>
          <td style="width: 4%;"></td>
        </tr>
        <tr style="height:7mm;">
          <td style="width: 9.4%;"></td>
          <td style="width: 7.2%; border-top: none;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 6%;"></td>
          <td style="width: 5.6%;"></td>
          <td style="width: 6.6%;"></td>
          <td style="width: 6.6%;"></td>
          <td style="width: 6.6%;"></td>
          <td style="width: 8.4%;"></td>
          <td style="width: 3.6%;"></td>
          <td style="width: 4%;"></td>
        </tr>

      </table>

      <table id="5table" style="margin:2px 0 0 0; height:12mm;">
        <tr>
          <td style="font-size: 14px; border: none;  text-align: left;">REMARKS :</td>
        </tr>
        <tr>
          <td style="font-size: 14px; border: none;  text-align: left;">FDTL EXTENSION AVAILED [  ]</td>
        </tr>
      </table>

      <table id="6table" style="height:9mm; border: none;">
        <tr>
          <td style="font-size: 12px; border: none; text-align: left;">NOTE : UNDER PF coloumn enter the Crew Serial Number, Seat Occupied [L/R] and Circle [D/N] for [Day/Night] T.O / Landing.  Tick [] IF FDTL EXTENSION AVAILED.</br>
          * TRG STS = PIC RC, RCPF, RCPM, SLF, SNY, SUT  Important Email ID's : FLIGHT SAFETY : flightsafety.airindia.in CMS : cms.psrupdation@airindia.in</td>
        </tr>
      </table>

    </div>


    <script type="text/javascript">

      //////////////////////////////////////////////////////////////////////////

      var start, end, l1, light, l2, c;
      var depSkd, desSkd, depDly, delay1 = 0, delay2 = 0, desDly;
      var night;
      init();

      function init(){


        start = document.getElementById('departureActual_in').valueAsNumber;
        end = document.getElementById('destinationActual_in').valueAsNumber;
        l1 = document.getElementById('line1');
        light = document.getElementById('light');
        l2 = document.getElementById('line2');

        depSkd = document.getElementById('departureSked_in').valueAsNumber;
        desSkd = document.getElementById('destinationSked_in').valueAsNumber;
        depDly = document.getElementById('departureDelay_in');
        desDly = document.getElementById('destinationDelay_in');

        c = 60 / ((end - start)/60000);
        l1.style.left = 20 + 60 * 0.33 + '%';
        l1.firstElementChild.value = get_utc( start + 60000 * (60 * 0.33) / c );
        l2.style.left = 20 + 60 * 0.66 + '%';
        l2.firstElementChild.value = get_utc( start + 60000 * (60 * 0.66)/c );

        light.style.left = 50 + '%';
        calc_night();


        if(start > depSkd){delay1 = start - depSkd}
        else{delay1 = 0};

        if(end - desSkd > delay1){delay2 = end - (desSkd + delay1)}
        else{delay2 = 0};

        if(delay1 > 0){depDly.parentNode.style.display = 'block'; depDly.nextElementSibling.value = get_hhmm(delay1);}
        else{depDly.parentNode.style.display = 'none'};

        if(delay2 > 0){desDly.parentNode.style.display = 'block'; desDly.nextElementSibling.value = get_hhmm(delay2);}
        else{desDly.parentNode.style.display = 'none'};

      };

      //////////////////////////////////////////////////////////////////////////

      l1.addEventListener('touchmove', function(event) {

        var touch = event.targetTouches[0].pageX / window.innerWidth * 100;

        ////

        if(touch <= 20){drag = 20}
        else if( touch >= 80){drag = 80}
        else{drag = touch};

        ////

        l1.style.left = drag + '%';

        this.firstElementChild.value = get_utc( start + 60000 * Math.floor( (drag - 20)/c ) );

        ////

        let diff = value(l2.style.left) - drag;
        calc_night();

        ////

        event.preventDefault();

      }, false);

      ////////////////

      l2.addEventListener('touchmove', function(event) {

        var touch = event.targetTouches[0].pageX / window.innerWidth * 100;

        ////

        let min = value(l1.style.left) + c * 10;
        if(touch <= min){drag = min;}
        else if(touch >= 80){drag = 80}
        else{drag = touch};

        ////

        l2.style.left = drag + '%';
        this.firstElementChild.value = get_utc( start + 60000 * Math.floor( (drag - 20)/c ) );

        ////

        let diff = drag - value(l1.style.left);
        calc_night();

        ////

        event.preventDefault();

      }, false);

      //////////////////////////////////////////////////////////////////////////

      function value(data){
        return Number(data.slice(0, data.length - 1));
      };
      function lightchange(){

        if(light.firstElementChild.src.endsWith("sun.png")){
          light.classList = ["NIGHT"];
          light.firstElementChild.src = "moon.png";
        }
        else{
          light.classList = ["DAY"];
          light.firstElementChild.src = "sun.png";
        };

      };
      function calc_night(){
        let l_s = ( start + 60000 * Math.floor( (value(l1.style.left) - 20)/c ) );
        let l_e = ( start + 60000 * Math.floor( (value(l2.style.left) - 20)/c ) );
        light.lastElementChild.value =  get_hhmm(l_e - l_s);
      };

      function get_utc(time){
        time = new Date(time);
        hh = time.getUTCHours();
        hh = ('0'+ hh).slice(-2);
        mm = time.getUTCMinutes();
        mm = ('0'+ mm).slice(-2);
        return hh + ':' + mm;
      };
      function get_hhmm(block){

        block = block / 60000;
        hh = Math.trunc(block / 60);
        hh = ('0'+ hh).slice(-2);
        mm = block % 60;
        mm = ('0'+ mm).slice(-2);
        return hh + ':' + mm;

      };

      function display(){
         let d = document.getElementById('crew').style.display;
         if(d == 'block'){
           document.getElementById('crew').style.display = 'none';
           document.getElementById('time').style.display = 'block';
         }
         else if(d == 'none'){
           document.getElementById('crew').style.display = 'block';
           document.getElementById('time').style.display = 'none';
         }
      };
      function seat(info){
        if(info == 'departureSeatLeft_in'){
          document.getElementById('departureSeatLeft_in').style['background-color'] = 'red';
          document.getElementById('departureSeatLeft_in').classList = [];
          document.getElementById('departureSeatRight_in').style['background-color'] = 'lightgrey';
          document.getElementById('destinationSeatLeft_in').classList = ["ACTIVE"];
        }
        else if(info == 'departureSeatRight_in'){
          document.getElementById('departureSeatLeft_in').style['background-color'] = 'lightgrey';
          document.getElementById('departureSeatLeft_in').classList = ["ACTIVE"];
          document.getElementById('departureSeatRight_in').style['background-color'] = 'red';
          document.getElementById('destinationSeatLeft_in').classList = [];
        }
        else if(info == 'destinationSeatLeft_in'){
          document.getElementById('destinationSeatLeft_in').style['background-color'] = 'red';
          document.getElementById('departureSeatLeft_in').classList = [];
          document.getElementById('destinationSeatRight_in').style['background-color'] = 'lightgrey';
          document.getElementById('destinationSeatLeft_in').classList = ["ACTIVE"];
        }
        else if(info == 'destinationSeatRight_in'){
          document.getElementById('destinationSeatLeft_in').style['background-color'] = 'lightgrey';
          document.getElementById('departureSeatLeft_in').classList = ["ACTIVE"];
          document.getElementById('destinationSeatRight_in').style['background-color'] = 'red';
          document.getElementById('destinationSeatLeft_in').classList = [];
        };
      };

      //////////////////////////////////////////////////////////////////////////

      function psr_generate(){

        document.getElementById('number_out').innerHTML = 'AIC ' + document.getElementById('number_in').value;
        document.getElementById('registeration_out').innerHTML = 'VT - ' + document.getElementById('registeration_in').value;
        let lr200 = ['VT-ALF', 'VT-ALG', 'VT-ALH'], type = 'B777-300ER'
        if(lr200.includes(document.getElementById('registeration_in').value)){type = 'B777-200LR'}
        document.getElementById('type_out').innerHTML = type;

        let date = new Date(start);
        document.getElementById('departureDate_out').innerHTML = date.toLocaleDateString();
        date = new Date(end);
        document.getElementById('destinationDate_out').innerHTML = date.toLocaleDateString();

        document.getElementById('departure_out').innerHTML = document.getElementById('departure_in').value.toUpperCase();
        document.getElementById('destination_out').innerHTML = document.getElementById('destination_in').value.toUpperCase();

        document.getElementById('departureSked_out').innerHTML = get_utc(depSkd);
        document.getElementById('destinationSked_out').innerHTML = get_utc(desSkd);

        document.getElementById('departureActual_out').innerHTML = get_utc(start);
        document.getElementById('destinationActual_out').innerHTML = get_utc(end);


        if(depDly.style.display == 'block'){
          document.getElementById('departureDelay_out').innerHTML = depDly.nextElementSibling.value;
          document.getElementById('dep' + depDly.value + '_out').innerHTML = depDly.nextElementSibling.value;
        };

        if(delay1 > 0){
          document.getElementById('departureDelay_out').innerHTML = get_hhmm(delay1);
          document.getElementById('dep' + depDly.value + '_out').innerHTML = get_hhmm(delay1);
        };

        if(end - desSkd > 0){
          document.getElementById('destinationDelay_out').innerHTML = get_hhmm(end - desSkd);
          if(delay1 > 0){document.getElementById('desCONSQ_out').innerHTML = get_hhmm(delay1)};
          if(delay2 > 0){document.getElementById('des' + desDly.value + '_out').innerHTML = get_hhmm(delay2)};
        };
        //

        console.log(document.getElementById('departureLeft_in').value, document.getElementById('departureSeatLeft_in').classList);
        console.log(document.getElementById('departureRight_in').value, document.getElementById('departureSeatRight_in').classList);
        console.log(document.getElementById('destinationLeft_in').value, document.getElementById('destinationSeatLeft_in').classList);
        console.log(document.getElementById('destinationRight_in').value, document.getElementById('destinationSeatRight_in').classList);

        // document.getElementById('departurePf_out').innerHTML = '';
        // document.getElementById('destinationPf_out').innerHTML = '';

        document.getElementById('total_out').innerHTML = get_hhmm(end - start);

        let totalNight = 0;
        if(light.classList[0] == "NIGHT"){totalNight = light.lastElementChild.value}
        else if(light.classList[0] == "DAY"){
          let l_s = ( start + 60000 * Math.floor( (value(l1.style.left) - 20)/c ) );
          let l_e = ( start + 60000 * Math.floor( (value(l2.style.left) - 20)/c ) );
          totalNight = get_hhmm( (l_s - start) + (end - l_e) );
        }
        document.getElementById('night_out').innerHTML = totalNight;

        let inst = document.getElementById('instrumentflying').valueAsNumber * 60000;
        document.getElementById('instrumentflying_out').innerHTML = get_hhmm(inst);

        document.getElementById('fuelQt_out').innerHTML = document.getElementById('fuelQt_in').value;
        document.getElementById('fuelUt_out').innerHTML = document.getElementById('fuelUt_in').value;
        document.getElementById('fuelSp_out').innerHTML = document.getElementById('fuelSp_in').value;
        document.getElementById('fuelTp_out').innerHTML = document.getElementById('fuelTp_in').value;

        time_generate();

        // var table_data = document.getElementsByTagName('td');
        // for(let i = 0; i < table_data.length; i++){table_data[i].setAttribute("contenteditable", "true")};

        window_generate();

      };

      function time_generate(){

        let ll, ls, le;

        if(light.classList[0] == 'NIGHT'){ll = 'NIGHT'}
        else if(light.classList[0] == 'DAY'){ll = 'DAY'};

        ls = start + 60000 * Math.floor( (value(l1.style.left) - 20) / c );
        if(ls <= start){startLight = ll}
        else if(ls > start){startLight = lc(ll)};
        le = start + 60000 * Math.floor( (value(l2.style.left) - 20) / c );
        if(le < end){endLight = lc(ll)}
        else if(le >= end){endLight = ll};

        function lc(info){
          if(info == 'DAY'){return 'NIGHT'}
          if(info == 'NIGHT'){return 'DAY'}
        };

        let instrument = document.getElementById('instrumentflying').valueAsNumber;

        console.log(start, startLight);
        console.log(ls, ll, le);
        console.log(end, endLight);
        console.log(instrument);

        ////////////////////////////////////////////////////////////////////////

        let lastlight = startLight;

        let one_start = start;
        let one_add = 3600000;
        let one_end = start + one_add;
        let block1 = {'from': one_start, 'to': one_end};

        let two_start = one_end + 60000;
        let two_add = 14400000;
        let two_end = two_start + two_add;
        let block2 = {'from': two_start, 'to': two_end};

        let three_start = two_end + 60000;
        let three_add = 10800000;
        let three_end = three_start + three_add;
        let block3 = {'from': three_start, 'to': three_end};


        let four_start = three_end + 60000;

        let last_block = end - 60000 - four_start;
        let block = last_block/60000;
        let min = block % 60;
        last_block -= 60000 * (min%2);
        let four_add = last_block/2;

        let four_end = four_start + four_add;
        let block4 = {'from': four_start, 'to': four_end};

        let five_start = four_end + 60000;
        let five_add = undefined;
        let five_end = end;
        let block5 = {'from': five_start, 'to': five_end};

        daynight(block1, 1);
        daynight(block2, 2);
        daynight(block3, 3);
        daynight(block4, 4);
        daynight(block5, 5);

        function daynight(block, index){

          let day = 0, night = 0;

          if(le <= block.from || ls >= block.to){
            if(lastlight == 'DAY'){day = diff(block.from, block.to)}
            else if(lastlight == 'NIGHT'){night = diff(block.from, block.to)}
          }
          else if(ls <= block.from && le >= block.to){
            lastlight = ll;
            if(lastlight == 'DAY'){day = diff(block.from, block.to)}
            else if(lastlight == 'NIGHT'){night = diff(block.from, block.to)}
          }
          else if(ls <= block.from && le < block.to){
            lastlight = ll;
            if(lastlight == 'DAY'){day = diff(block.from, le); night = diff(le, block.to)}
            else if(lastlight == 'NIGHT'){night = diff(block.from, le); day = diff(le, block.to)}
          }
          else if(ls > block.from && le >= block.to){
            if(lastlight == 'DAY'){day = diff(block.from, ls); night = diff(ls, block.to)}
            else if(lastlight == 'NIGHT'){night = diff(block.from, ls); day = diff(ls, block.to)}
            lastlight = ll;
          }
          else if(ls > block.from && le < block.to){
            let a = diff(block.from, ls);
            let b = diff(ls, le);
            let c = diff(le, block.to);
            if(lastlight == 'DAY'){day = a + c; night = b; ll = 'DAY';}
            else if(lastlight == 'NIGHT'){night = a + c; day = b; ll = 'NIGHT';}
          }

          function diff(a, b){
            return (b - a);
          };

          block.day = day;
          block.night = night;
          block.block = index;

        };

        console.log('value of instrument = ', instrument);
        let half = instrument * 60000 /2;
        let last = instrument * 60000;
        let set1 = [block1, block3, block5], day1 = 0;
        let set2 = [block2, block4], day2 = 0;
        set1 = sort_info(set1, 'day', 'high');
        set2 = sort_info(set2, 'day', 'high');
        function sort_info(x, y, z){
          x.sort( compare );
          function compare( a, b ) {
            if ( eval('a.' + y + ' < b.' + y ) ){ return -1 }
            if ( eval('a.' + y + ' > b.' + y ) ){ return 1 }
            return 0;
          }
          if(z == 'low'){return x};
          if(z == 'high'){return x.reverse()};
        };

        inst_add(set1[0], half);
        if(last < half){inst_add(set2[0], last)}
        else{inst_add(set2[0], half)};

        half = last / 2;
        inst_add(set1[1], half);
        if(last < half){inst_add(set2[1], last)}
        else{inst_add(set2[1], half)};

        inst_add(set1[2], last);

        function inst_add(item, add){
          let aval = 0, added = 0;
          if(item.day - 600000 > 0){ aval = Math.trunc( (item.day - 600000) / 300000 ) * 300000 };
          if(add >= aval){ item.instrument = aval; added = aval; }
          else{ item.instrument = add; added = add; };
          if(last - added <= 0){last = 0}
          else{last -= added};
        };

        let time = [];

        final(block1);
        final(block2);
        final(block3);
        final(block4);
        final(block5);

        function final(block){

          block.from = get_utc(block.from);
          block.to = get_utc(block.to);

          block.day = get_hhmm(block.day);
          block.night = get_hhmm(block.night);

          block.instrument = get_hhmm(block.instrument);

          let b = block.block;
          delete block.block;
          time['block' + b] = block;
          console.log(block);

        };

        ////////////////////////////////////////////////////////////////////////

        return time;

      };

      function window_generate(){

        var mywindow = window.open('', '', '');
        mywindow.document.write('<!DOCTYPE html><html><head><title>')
        ////////////////

        let date = new Date(start);

        mywindow.document.write(
          //Change to Scheduled ADD DEP DES
          "AI" + document.getElementById("number_in").value + ' ' +
          date.toLocaleDateString() + ' ' +
          document.getElementById("departure_in").value.toUpperCase() + '-' +
          document.getElementById("destination_in").value.toUpperCase()

        );

        ////////////////
        mywindow.document.write('</title></head><body >')
        ////////////////

        let node, clone;

        node = document.head.lastElementChild;
        clone = node.cloneNode(true);
        mywindow.document.head.appendChild(clone);

        node = document.getElementById("table");
        clone = node.cloneNode(true);
        clone.style.display = 'block';
        mywindow.document.body.appendChild(clone);

        ////////////////
        mywindow.document.write('</body></html>');
        mywindow.document.close(); // necessary for IE >= 10
        mywindow.focus(); // necessary for IE >= 10*/
      };

    </script>


  </body>
</html>
